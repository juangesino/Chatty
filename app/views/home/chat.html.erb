<div class="container vertical-center">
  <div class="row">
    <div class="col-md-12">

      <%= react_component('Chat') %>

    </div>
  </div>
</div>

<script type="text/javascript">
  var dispatcher = new WebSocketRails('localhost:3000/websocket');
  channel = dispatcher.subscribe('messages');
  channel.bind('new_message', function (data) {
    console.log(data);
  });

  // $.ajax({
  //   url: "/ajax/messages",
  //   cache: false,
  //   success: function(data) {
  //     console.log(data);
  //   },
  //   error: function(xhr, status, err) {
  //     console.error('500');
  //   }
  // });
</script>
